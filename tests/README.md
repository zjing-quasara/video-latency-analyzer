# 测试文件夹

## 说明
此文件夹用于存放所有测试、调试、临时脚本文件，**不上传到 Git 仓库**。

## 测试原则 ⚠️

### 核心原则：测试主程序，不重写代码！

```python
# ❌ 错误做法：重写业务逻辑
def test_wrong():
    ocr = PaddleOCR(...)  # 重新初始化
    cap = cv2.VideoCapture(...)  # 重新写视频处理
    # ... 自己实现一遍分析逻辑
    # 这样测试的是测试代码本身，不是主程序！

# ✅ 正确做法：调用主程序
def test_correct():
    from src.gui.worker import AnalysisWorker
    worker = AnalysisWorker(...)  # 使用主程序的类
    worker.run()  # 调用主程序的真实方法
    # 验证结果
```

### 测试流程：
1. **自动化测试主代码** - 确保核心功能正确
2. **人工测试界面** - 只看UI/UX，不测功能

## 使用方法

### 运行主程序自动化测试：
```bash
python tests/test_main_program.py
```

这个测试会：
1. 测试OCR引擎初始化
2. 测试Worker完整分析流程（调用真实主程序）
3. 输出调试信息（如OCR返回格式）

## 文件夹结构
```
tests/
├── README.md               # 本文件
├── test_main_program.py    # 主程序自动化测试（必须）
├── data/                   # 测试数据（视频、图片等）
├── output/                 # 测试输出结果
└── temp_*.py               # 临时调试脚本
```

## 规则
1. **所有测试相关的代码文件必须放在此文件夹**
2. **主项目 `src/` 目录不应包含测试代码**
3. **此文件夹内容不会上传到代码仓库**
4. **测试脚本必须调用主程序代码，不能重写逻辑**

## 注意
- 测试脚本导入主项目：`from src.core import ...`
- 不要在主项目中导入测试代码
- 测试数据、截图、视频等文件也放在此目录

